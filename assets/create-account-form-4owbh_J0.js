import{_ as R,f as n,D as I,r as t,c as g,o as f,a as o,b as c,w as a,l as i,d as q,e as w,g as C,u as E,i as S,j as h,k as T,n as A}from"./index-B4I5mIwG.js";import{D as M}from"./load-indicator-DoDZD9oB.js";const N={components:{DxForm:I,DxItem:n.DxItem,DxLabel:n.DxLabel,DxButtonItem:n.DxButtonItem,DxButtonOptions:n.DxButtonOptions,DxRequiredRule:n.DxRequiredRule,DxCustomRule:n.DxCustomRule,DxEmailRule:n.DxEmailRule,DxLoadIndicator:M},setup(){const p=E(),e=S(!1),d=h({email:"",password:""}),s=async()=>{const{email:l,password:r}=d;e.value=!0;const u=await T.createAccount(l,r);e.value=!1,u.isOk?p.push("/login-form"):A(u.message,"error",2e3)};function b(l){return l.value===d.password}return{formData:d,loading:e,onSubmit:s,confirmPassword:b}}},V={class:"policy-info"},L={class:"dx-button-text"},O={key:1},F={class:"login-link"};function j(p,e,d,s,b,l){const r=t("dx-required-rule"),u=t("dx-email-rule"),x=t("dx-label"),m=t("dx-item"),v=t("dx-custom-rule"),_=t("router-link"),D=t("dx-button-options"),y=t("dx-button-item"),k=t("dx-loadIndicator"),B=t("dx-form");return f(),g("form",{class:"create-account-form",onSubmit:e[0]||(e[0]=C((...P)=>s.onSubmit&&s.onSubmit(...P),["prevent"]))},[o(B,{"form-data":s.formData,disabled:s.loading},{createAccount:a(()=>[c("div",null,[c("span",L,[s.loading?(f(),q(k,{key:0,width:"24px",height:"24px",visible:!0})):w("",!0),s.loading?w("",!0):(f(),g("span",O,"Create a new account"))])])]),default:a(()=>[o(m,{"data-field":"email","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Email",mode:"email"}},{default:a(()=>[o(r,{message:"Email is required"}),o(u,{message:"Email is invalid"}),o(x,{visible:!1})]),_:1}),o(m,{"data-field":"password","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Password",mode:"password"}},{default:a(()=>[o(r,{message:"Password is required"}),o(x,{visible:!1})]),_:1}),o(m,{"data-field":"confirmedPassword","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Confirm Password",mode:"password"}},{default:a(()=>[o(r,{message:"Password is required"}),o(v,{message:"Passwords do not match","validation-callback":s.confirmPassword},null,8,["validation-callback"]),o(x,{visible:!1})]),_:1}),o(m,null,{default:a(()=>[c("div",V,[e[3]||(e[3]=i(" By creating an account, you agree to the ")),o(_,{to:"#"},{default:a(()=>e[1]||(e[1]=[i("Terms of Service")])),_:1,__:[1]}),e[4]||(e[4]=i(" and ")),o(_,{to:"#"},{default:a(()=>e[2]||(e[2]=[i("Privacy Policy")])),_:1,__:[2]})])]),_:1}),o(y,null,{default:a(()=>[o(D,{width:"100%",type:"default",template:"createAccount","use-submit-behavior":!0})]),_:1})]),_:1},8,["form-data","disabled"]),c("div",F,[e[6]||(e[6]=i(" Have an account? ")),o(_,{to:"/login-form"},{default:a(()=>e[5]||(e[5]=[i("Sign In")])),_:1,__:[5]})])],32)}const G=R(N,[["render",j]]);export{G as default};
