import{_ as R,f as n,D as E,r as t,c,o as l,a as s,b as d,w as a,d as I,e as _,l as x,g as q,u as S,i as T,j as C,k as N,n as p}from"./index-DjPYO_9U.js";import{D as V}from"./load-indicator-C5dVIsTW.js";const L="We've sent a link to reset your password. Check your inbox.",O={components:{DxForm:E,DxItem:n.DxItem,DxLabel:n.DxLabel,DxButtonItem:n.DxButtonItem,DxButtonOptions:n.DxButtonOptions,DxRequiredRule:n.DxRequiredRule,DxEmailRule:n.DxEmailRule,DxLoadIndicator:V},setup(){const m=S(),e=T(!1),i=C({email:""});async function o(){const{email:u}=i;e.value=!0;const r=await N.resetPassword(u);e.value=!1,r.isOk?(m.push("/login-form"),p(L,"success",2500)):p(r.message,"error",2e3)}return{loading:e,formData:i,onSubmit:o}}},F={class:"dx-button-text"},M={key:1},P={class:"login-link"};function j(m,e,i,o,u,r){const f=t("dx-required-rule"),b=t("dx-email-rule"),D=t("dx-label"),g=t("dx-item"),k=t("dx-button-options"),v=t("dx-button-item"),w=t("dx-load-indicator"),y=t("dx-form"),h=t("router-link");return l(),c("form",{class:"reset-password-form",onSubmit:e[0]||(e[0]=q((...B)=>o.onSubmit&&o.onSubmit(...B),["prevent"]))},[s(y,{"form-data":o.formData,disabled:o.loading},{resetTemplate:a(()=>[d("div",null,[d("span",F,[o.loading?(l(),I(w,{key:0,width:"24px",height:"24px",visible:!0})):_("",!0),o.loading?_("",!0):(l(),c("span",M,"Reset my password"))])])]),default:a(()=>[s(g,{"data-field":"email","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Email",mode:"email"}},{default:a(()=>[s(f,{message:"Email is required"}),s(b,{message:"Email is invalid"}),s(D,{visible:!1})]),_:1}),s(v,null,{default:a(()=>[s(k,{"element-attr":{class:"submit-button"},width:"100%",type:"default",template:"resetTemplate","use-submit-behavior":!0})]),_:1})]),_:1},8,["form-data","disabled"]),d("div",P,[e[2]||(e[2]=x(" Return to ")),s(h,{to:"/login-form"},{default:a(()=>e[1]||(e[1]=[x("Sign In")])),_:1,__:[1]})])],32)}const A=R(O,[["render",j]]);export{A as default};
